<!DOCTYPE html>
<html lang="en">




 <head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Namma UK ‚Äì Explore Uttara Kannada</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" type="image/png" href="assets/icons/favicon.png">
  <link rel="canonical" href="https://namma-uk.vercel.app/" />
  <meta name="description"
    content="Discover Uttara Kannada with Namma UK ‚Äì your ultimate guide to beaches, waterfalls, trekking, and cultural heritage in Karnataka." />
  <meta name="keywords"
    content="Uttara Kannada tourism, Namma UK,Vishwanath Gouda, Vishwanath Narayan Gouda, Vishwa Gouda Sirsi, Vishwanath Sirsi, Vishwanath Narayan Gouda Sirsi,Vishwanath Gowda, Vishwa Gowda, Karnataka travel, Gokarna beach, Jog Falls, Murudeshwar temple, Dandeli adventure, uttara kannada tourism, 12 taluks of uttara kannada, gokarna beach, jog falls, murudeshwar temple, dandeli adventure, karwar, sirsi, honnavar, kumta, ankola, yallapur, siddapur, uttara kannada tourist places" />


  <meta property="og:title" content="Namma UK ‚Äì Explore Uttara Kannada Tourism" />
  <meta property="og:description"
    content="Plan your trip to Uttara Kannada with Namma UK. Explore beaches, waterfalls, trekking spots, and cultural heritage." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://namma-uk.vercel.app/" />
  <meta property="og:image" content="https://namma-uk.vercel.app/assets/images/social-preview.jpg" />
  <meta property="og:site_name" content="Namma UK" />


  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Namma UK ‚Äì Explore Uttara Kannada Tourism" />
  <meta name="twitter:description" content="Your ultimate guide to Uttara Kannada tourism." />
  <meta name="twitter:image" content="https://namma-uk.vercel.app/assets/images/social-preview.jpg" />

  <meta name="robots" content="index, follow" />

  <!-- Theme Color (improves Lighthouse PWA score and mobile UI color) -->
  <meta name="theme-color" content="#FFD700" />

  <!-- Structured Data -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Namma UK",
  "url": "https://namma-uk.vercel.app/",
  "description": "Discover Uttara Kannada with Namma UK ‚Äì your ultimate guide to beaches, waterfalls, trekking, and cultural heritage in Karnataka.",
  "publisher": {
    "@type": "Organization",
    "name": "Namma UK",
    "logo": {
      "@type": "ImageObject",
      "url": "https://namma-uk.vercel.app/assets/icons/favicon.png"
    }
  }
}
</script>


</head>


<body class="bg-gray-50 text-slate-900">
  <header class="header">
    <div class="container nav">
      <img src="assets/icons/favicon.png" height="50px" width="50px">
      <a href="index.html" class="logo text-xl font-bold" data-aos="fade-right" data-i18n="app_title">Uttara Kannada</a>
      <div class="nav-links hidden md:flex" data-aos="fade-left">
        <a href="#featured" class="nav-link" data-i18n="nav_places">Places</a>
        <a href="taluks.html" class="nav-link" data-i18n="nav_taluks">Taluks</a>
        <a href="about.html" class="nav-link" data-i18n="nav_about">About</a>
        <div class="lang-select-wrapper ml-4">
          <select id="desktop-lang" onchange="setLanguage(this.value)" class="lang-dropdown">
            <option value="en">English</option>
            <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          </select>
        </div>
      </div>
      <button class="md:hidden text-2xl" id="hamburger" aria-label="menu"><i class="fa-solid fa-bars"></i></button>
    </div>
    </div>
    <div id="mobileMenu" class="mobile-menu md:hidden hidden">
      <div class="container p-4">
        <a href="taluks.html" class="block py-2" data-i18n="nav_taluks">All Taluks</a>
        <a href="about.html" class="block py-2" data-i18n="nav_about">About Uttara Kannada</a>

        
        <div class="mb-4">
          <select id="mobile-lang" onchange="setLanguage(this.value)" class="lang-dropdown w-15px">
            <option value="en">English</option>
            <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          </select>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-text" data-aos="fade-right">
          <h1 data-i18n="hero_title">Discover Uttara Kannada</h1>
          <p class="text-muted" data-i18n="hero_desc">Explore beaches, forests, waterfalls and heritage across the 12
            taluks of Uttara
            Kannada.</p>
          <div class="mt-4 hero-cta">
            <a href="taluks.html" class="btn"><span data-i18n="btn_explore">Explore</span> <i
                class="fa-solid fa-arrow-right ml-2"></i></a>
          </div>
        </div>
        <div class="hero-media" data-aos="fade-left" data-aos-delay="200">
          <div class="hero-slider" id="heroSlider" style="background:#eee; z-index:10; position:relative;">
            <img
              src="https://lh3.googleusercontent.com/gps-cs-s/AG0ilSzzYVk8GpTPrOwjTZ2thAwp54q_QHt1f0prvy2hGB8wBxyQV7XPgBWlhuOmoqJVdy0WvOkXysxJjDDmIGo55Y-HIfdy_BD7IBGj6HnW0VzmQ42aB1N4I5lTjwPqdD5XshnEdQrB=w540-h312-n-k-no"
              class="hero-slide active" alt="Om Beach">
            <img
              src="https://lh3.googleusercontent.com/gps-cs-s/AG0ilSxobv81ywe-L-zjJnQctfkUVTzEuWQfpmzL4Vn5HBl8gboJzBopIX5yAvUG_RJqRduPhd3jWONfmYsSSy_ZK-O_GIKPoFdE3dl9mS6VzvtRUdZkFq8iUaSAB7SIINNMo-4m3wIU=w540-h312-n-k-no"
              class="hero-slide" alt="Murudeshwar Temple">
            <img
              src="https://lh3.googleusercontent.com/gps-cs-s/AG0ilSzo33DY0ek7wkBE5HrWPWZFlyzUcQb3W40uWWzRcWx0kLAzJ0-vefAiv5naGJeJ2POrBCHlSpkBQ5TRlWPaIwlHeqaMdf49tWgu7UDfbTjJK1asmbc1qldlC7d4vT_9TLEndZA=w540-h312-n-k-no"
              class="hero-slide" alt="Yana Caves">
            <img
              src="https://lh3.googleusercontent.com/gps-cs-s/AG0ilSxAroxchlQ2ypBPdwdLrTmaE8i2nyU2MYZwktPT-ohg7QB5DCqGwvK8U6z11hDti3-rxQQ8TX-pgnaK8EUjN4llZmkn3mHoYg4KkXqYEnzTp43qTkS-gq1JpbJHwBL6EO_VSKk4=w540-h312-n-k-no"
              class="hero-slide" alt="Magod Falls">
            <img src="https://images.tv9kannada.com/wp-content/uploads/2024/01/sirsi-marikamba-devi-fair-2024.jpg"
              class="hero-slide" alt="Marikamba Temple">
            <img src="https://static.toiimg.com/img/93303613/Master.jpg" class="hero-slide" alt="Sahasra Linga">
            <img src="https://www.gosahin.com/go/p/f/1544295439_Banavasi-Temple1.jpg" class="hero-slide"
              alt="Banavasi Madhukeshwara Temple">
            <img src="https://www.karnataka.com/wp-content/uploads/2009/07/benne-hole-falls-sirsi.jpg"
              class="hero-slide" alt="Bennehole Falls">
            <img src="https://www.trawell.in/admin/images/upload/00122342Jenukallu_gudda_Sirsi.jpg" class="hero-slide"
              alt="Jenukallu Gudda">
            <img
              src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/86/f0/72/view-from-first-step.jpg?w=1200&h=1200&s=1"
              class="hero-slide" alt="Unchalli Falls">
            <img src="https://kalavadyfarmstay.com/wp-content/uploads/2023/02/img_20170501_070530_0031.jpg"
              class="hero-slide" alt="Mirjan Fort">
            <img
              src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/0d/ae/1b/20191101-163138-01-largejpg.jpg?w=1200&h=-1&s=1"
              class="hero-slide" alt="Yana Caves">
            <img src="https://honnavartourism.com/wp-content/uploads/2024/04/honnavar-tourism-4.jpg" class="hero-slide"
              alt="Sharavathi Backwaters">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/ab/Murudeshwara_Temple%2CUttar_Karnataka.jpg"
              class="hero-slide" alt="Murudeshwar Temple">





          </div>
          <!-- decorative stats overlay -->
          <div class="hero-stats" aria-hidden="true">
            <div class="stat"><strong>12</strong><span>Taluks</span></div>
            <div class="stat"><strong>100+</strong><span>Places</span></div>
          </div>
        </div>
      </div>
      <!-- Decorative layered SVG waves (animated) -->
      <div class="hero-waves" aria-hidden="true">
        <svg class="wave wave1" viewBox="0 0 1440 120" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0,60 C240,120 480,0 720,60 C960,120 1200,0 1440,60 L1440 120 L0 120 Z" fill="#ffffff" opacity="0.95"></path>
        </svg>
        <svg class="wave wave2" viewBox="0 0 1440 120" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0,48 C200,90 420,10 720,56 C1020,102 1220,30 1440,56 L1440 120 L0 120 Z" fill="#ffffff" opacity="0.85"></path>
        </svg>
        <svg class="wave wave3" viewBox="0 0 1440 120" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0,72 C260,110 520,20 720,72 C920,124 1180,40 1440,72 L1440 120 L0 120 Z" fill="#ffffff" opacity="0.8"></path>
        </svg>
      </div>
    </section>

    <section id="map-section" class="py-8 bg-white">
      <div class="container">
        <div class="listing-header" data-aos="fade-up">
          <h2 class="text-2xl font-bold" data-i18n="map_title">Explore via Map</h2>
          <div class="small text-muted" data-i18n="map_subtitle">Click on pins to see details</div>
        </div>
        <div id="uk-map" class="w-full h-[400px] rounded-xl shadow-lg border border-gray-200" data-aos="zoom-in"
          data-aos-delay="200"></div>
      </div>
    </section>

    <section id="featured" class="py-8">
      <div class="container">
        <div class="listing-header" data-aos="fade-up">
          <h2 class="section-title" data-i18n="section_featured">Featured attractions</h2>
          <div class="small text-muted" data-i18n="section_subtitle">Handpicked popular spots</div>
        </div>
        <div class="filter-buttons" data-aos="fade-up" data-aos-delay="100">
          <button class="filter-btn active" data-filter="all" data-i18n="filter_all">All</button>
          <button class="filter-btn" data-filter="beach" data-i18n="filter_beach">Beaches</button>
          <button class="filter-btn" data-filter="temple" data-i18n="filter_temple">Temples</button>
          <button class="filter-btn" data-filter="waterfall" data-i18n="filter_waterfall">Waterfalls</button>
          <button class="filter-btn" data-filter="fort" data-i18n="filter_fort">Forts</button>
          <button class="filter-btn" data-filter="island" data-i18n="filter_island">Islands</button>
          <!-- Additional normalized filters discovered in data/places.json -->
          <button class="filter-btn" data-filter="museum" data-i18n="filter_museum">Museums</button>
          <button class="filter-btn" data-filter="bridge" data-i18n="filter_bridge">Bridges</button>
          <button class="filter-btn" data-filter="lighthouse" data-i18n="filter_lighthouse">Lighthouses</button>
          <button class="filter-btn" data-filter="rock-formation" data-i18n="filter_rock_formation">Rock formations</button>
          <button class="filter-btn" data-filter="backwater" data-i18n="filter_backwater">Backwaters</button>
          <button class="filter-btn" data-filter="lake" data-i18n="filter_lake">Lakes</button>
          <button class="filter-btn" data-filter="dam" data-i18n="filter_dam">Dams</button>
          <button class="filter-btn" data-filter="national-park" data-i18n="filter_national_park">National parks</button>
          <button class="filter-btn" data-filter="wildlife-sanctuary" data-i18n="filter_wildlife">Wildlife</button>
          <button class="filter-btn" data-filter="adventure" data-i18n="filter_adventure">Adventure / Water sports</button>
          <button class="filter-btn" data-filter="caves" data-i18n="filter_caves">Caves</button>
          <button class="filter-btn" data-filter="scenic" data-i18n="filter_scenic">Scenic viewpoints</button>
          <button class="filter-btn" data-filter="monastery" data-i18n="filter_monastery">Monasteries</button>
          <button class="filter-btn" data-filter="cultural-village" data-i18n="filter_cultural_village">Cultural villages</button>
          <button class="filter-btn" data-filter="elephant-camp" data-i18n="filter_elephant_camp">Elephant camps</button>
        </div>
        <div id="featured-grid" class="places-grid">
          <!-- dynamically populated -->
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;width:100%;position:relative;">
          <div style="width:100%;display:flex;align-items:center;justify-content:center;">
            <small class="text-muted" data-i18n="footer_text">&copy; <span id="currentYear"></span> NammaUK</small>
          </div>
          <div id="site-views" style="display:flex;align-items:center;gap:6px;font-size:12px;">
            <div id="visit-badge" style="background:#0ea5a4;color:#fff;padding:1px 6px;border-radius:999px;display:flex;align-items:center;gap:3px;box-shadow:0 1px 0 rgba(0,0,0,0.06);font-size:11px;position:absolute;right:8px;top:50%;transform:translateY(-50%);">
              <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false" style="color:inherit">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <span id="visit-count" style="font-size:11px;font-weight:600;">‚Äì</span>
            </div>
          </div>
        </div>
    </div>
  </footer>

  <script src="js/translations.js"></script>


  <style>
                          /* Your base styles (kept) */
                          #chat-btn{position:fixed;right:20px;bottom:50px;background:#32b0eb;color:#fff;border-radius:50%;width:56px;height:56px;display:flex;align-items:center;justify-content:center;cursor:pointer}
                          #chat-box{position:fixed;right:20px;bottom:108px;width:320px;max-height:60vh;background:#fff;border:1px solid #ddd;border-radius:12px;box-shadow:0 12px 32px rgba(0,0,0,.2);display:none;flex-direction:column;overflow:hidden;font:14px system-ui}
                          #chat-header{padding:10px;background:#f5f5f5;border-bottom:1px solid #eee;font-weight:600}
                          #chat-messages{padding:10px;overflow:auto}
                          .msg{margin:6px 0;padding:8px 10px;border-radius:8px}
                          .user{background:#e8f0fe;margin-left:auto;max-width:80%}
                          .bot{background:#f6f6f6;margin-right:auto;max-width:80%}
                          #chat-input{display:flex;border-top:1px solid #eee}
                          #chat-input input{flex:1;padding:10px;border:0}
                          #chat-input button{padding:0 14px;border:0;background:#111;color:#fff}

                          /* --- Robotic button upgrades --- */
                          #chat-btn{
                            border:none; box-shadow:0 8px 24px rgba(0,0,0,.35);
                            transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
                            position:fixed; /* re-affirm for ::after ring positioning */
                          }
                          #chat-btn:hover{ transform: translateY(-2px); box-shadow:0 12px 32px rgba(0, 0, 0, 0.45); background:#151515; }
                          #chat-btn:active{ transform: translateY(0); box-shadow:0 6px 18px rgba(95, 45, 45, 0.35); }
                          #chat-btn:focus-visible{ outline:3px solid #22d3ee; outline-offset:4px; }

                          /* Glow ring on hover */
                          #chat-btn::after{
                            content:""; position:absolute; inset:-6px; border-radius:50%;
                            background: radial-gradient(60% 60% at 50% 50%, rgba(255, 255, 255, 0.901), transparent 60%);
                            filter: blur(10px); opacity:0; transition: opacity .25s ease;
                          }
                          #chat-btn:hover::after{ opacity:1; }

                          /* Robot SVG styling */
                          .robo { filter: drop-shadow(0 2px 6px rgba(0,0,0,.35)); animation: float 3.5s ease-in-out infinite; }
                          .robo-body{ fill:#1f2937; }
                          .robo-head{ fill:#0f172a; }
                          .robo-antenna, .robo-mouth{ stroke:#94a3b8; fill:#94a3b8; stroke-width:2; }
                          .robo-antenna-tip{ fill:#22d3ee; animation: pulse 2.2s ease-in-out infinite; }
                          .robo-eye{ fill:#22d3ee; }
                          .robo-arm, .robo-hand{ fill:#374151; }
                          .robo-shadow{ fill: rgba(0,0,0,.25); }
                          .robo-arm-wave{ animation: wave 1.6s ease-in-out infinite; transform-origin: 53px 28px; }
                          .left-eye, .right-eye { transform-origin: center; animation: blink 5s infinite; }
                          #chat-btn:hover .robo-eye { fill:#67e8f9; }

                          /* Keyframes */
                          @keyframes float { 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-2px);} }
                          @keyframes wave { 0%,100%{ transform: rotate(0deg);} 25%{ transform: rotate(-18deg);} 50%{ transform: rotate(12deg);} 75%{ transform: rotate(-10deg);} }
                          @keyframes blink { 0%,92%,100%{ transform: scaleY(1);} 95%{ transform: scaleY(0.15);} }
                          @keyframes pulse { 0%,100%{ transform: scale(1); opacity:1;} 50%{ transform: scale(1.25); opacity:.7;} }
                        </style>

                        <!-- Button: replaced üí¨ with SVG robo -->
                        <div id="chat-btn" aria-label="Open chat" title="Chat">
                          <svg class="robo" width="40" height="40" viewBox="0 0 64 64" role="img" aria-hidden="true">
                            <!-- Body -->
                            <rect x="14" y="22" rx="6" ry="6" width="36" height="28" class="robo-body"/>
                            <!-- Head -->
                            <rect x="18" y="8" rx="6" ry="6" width="28" height="18" class="robo-head"/>
                            <!-- Antenna -->
                            <line x1="32" y1="8" x2="32" y2="4" class="robo-antenna"/>
                            <circle cx="32" cy="3" r="2" class="robo-antenna-tip"/>
                            <!-- Eyes -->
                            <circle cx="26" cy="17" r="3" class="robo-eye left-eye"/>
                            <circle cx="38" cy="17" r="3" class="robo-eye right-eye"/>
                            <!-- Mouth -->
                            <rect x="26" y="20" width="12" height="2" rx="1" class="robo-mouth"/>
                            <!-- Left Arm (static) -->
                            <rect x="8" y="28" width="6" height="16" rx="3" class="robo-arm"/>
                            <!-- Right Arm (waving) -->
                            <g class="robo-arm-wave" transform-origin="53px 28px">
                              <rect x="50" y="28" width="6" height="16" rx="3" class="robo-arm"/>
                              <circle cx="53" cy="46" r="3" class="robo-hand"/>
                            </g>
                            <!-- Shadow -->
                            <ellipse cx="32" cy="56" rx="16" ry="4" class="robo-shadow"/>
                          </svg>
                        </div>

                        <!-- Your chat box: unchanged -->
                        <div id="chat-box">
                          <div id="chat-header">Travel Assistant</div>
                          <div id="chat-messages"></div>
                          <div id="chat-input">
                            <input id="chat-text" placeholder="Ask questions.." />
                            <button id="send">Send</button>
                          </div>
                        </div>

                       <!-- Paste this script just before </body> -->
                       <script>
                       const btn = document.getElementById('chat-btn'),
                             box = document.getElementById('chat-box'),
                             msgs = document.getElementById('chat-messages'),
                             input = document.getElementById('chat-text'),
                             send = document.getElementById('send');
                       
                       btn.onclick = () => box.style.display = (box.style.display === 'none' || box.style.display === '') ? 'flex' : 'none';
                       
                       function add(type, text){
                         const d = document.createElement('div');
                         d.className = `msg ${type}`;
                         d.textContent = text;
                         msgs.appendChild(d);
                         msgs.scrollTop = msgs.scrollHeight;
                         return d;
                       }
                       
                       async function ask(text){
                         const typing = add('bot', '‚Ä¶');
                         send.disabled = true;
                         try {
                           const r = await fetch('/api/chat', {
                             method:'POST',
                             headers:{'Content-Type':'application/json'},
                             body: JSON.stringify({ text })
                           });
                           const data = await r.json().catch(() => ({ error: 'Invalid JSON' }));
                           if (!r.ok) {
                             typing.textContent = `Error ${r.status}: ${data.error || 'Unknown'}`;
                             console.debug('Details:', data.details || data.preview || '');
                             return;
                           }
                           typing.textContent = data.text || `No reply (${data.finishReason || 'unknown'})`;
                         } catch (err) {
                           typing.textContent = `Network error: ${err.message}`;
                         } finally {
                           send.disabled = false;
                         }
                       }
                       
                       send.onclick = () => {
                         const t = input.value.trim();
                         if (!t) return;
                         add('user', t);
                         input.value = '';
                         ask(t);
                       };
                       
                       input.addEventListener('keydown', e => { if (e.key === 'Enter') send.click(); });
                       </script>





 

  <script>
    // Hero typing animation: cycles between English and Kannada hero titles
    (function heroTyping() {
      function start() {
        const el = document.querySelector('[data-i18n="hero_title"]');
        if (!el || typeof translations === 'undefined') return;

        // ensure the element uses a single inline span for animated text
        el.classList.add('typing');

        const en = (translations['en'] && translations['en']['hero_title']) ? translations['en']['hero_title'] : 'Discover Uttara Kannada';
        const kn = (translations['kn'] && translations['kn']['hero_title']) ? translations['kn']['hero_title'] : '‡≤â‡≤§‡≥ç‡≤§‡≤∞ ‡≤ï‡≤®‡≥ç‡≤®‡≤°‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥ç‡≤µ‡≥á‡≤∑‡≤ø‡≤∏‡≤ø';

        const texts = [en, kn];
        let ti = 0;
        let ci = 0;
        let deleting = false;

        const typeSpeed = 90;
        const deleteSpeed = 45;
        const pauseAfterFull = 1400;

        function tick() {
          const full = texts[ti];
          if (!deleting) {
            ci++;
            el.textContent = full.slice(0, ci);
            if (ci >= full.length) {
              deleting = true;
              setTimeout(tick, pauseAfterFull);
            } else {
              setTimeout(tick, typeSpeed);
            }
          } else {
            ci--;
            el.textContent = full.slice(0, ci);
            if (ci <= 0) {
              deleting = false;
              ti = (ti + 1) % texts.length;
              setTimeout(tick, 300);
            } else {
              setTimeout(tick, deleteSpeed);
            }
          }
        }

        // start after short delay to allow AOS/translations init
        setTimeout(tick, 600);
      }

      // Start when translations.js and DOM are ready
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        // small timeout to ensure translations.js DOM replacements complete
        setTimeout(start, 200);
      } else {
        document.addEventListener('DOMContentLoaded', () => setTimeout(start, 200));
      }
    })();
    // Mobile menu
    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobileMenu');
    const hamIcon = hamburger.querySelector('i');
    hamburger.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      hamburger.classList.toggle('active');

      // Toggle Font Awesome icon between bars and xmark for clear visual state
      if (hamIcon) {
        if (hamIcon.classList.contains('fa-bars')) {
          hamIcon.classList.remove('fa-bars');
          hamIcon.classList.add('fa-xmark');
        } else {
          hamIcon.classList.remove('fa-xmark');
          hamIcon.classList.add('fa-bars');
        }
      }
    });

    // Initialize AOS
    AOS.init({
      duration: 800,
      once: true,
      offset: 100
    });

    // Hero Slider
    let currentSlide = 0;
    const slides = document.querySelectorAll('.hero-slide');
    const slideCount = slides.length;

    // Mobile optimizations: lazy-load hero images where supported
    slides.forEach(s => {
      try { s.setAttribute('loading', 'lazy'); } catch (e) { /* ignore */ }
    });

    console.log('Hero Slider: Found', slideCount, 'slides');
    console.log('First slide classes:', slides[0]?.className);

    function nextSlide() {
      slides[currentSlide].classList.remove('active');
      currentSlide = (currentSlide + 1) % slideCount;
      slides[currentSlide].classList.add('active');
      console.log('Switched to slide', currentSlide);
    }

    function prevSlide() {
      slides[currentSlide].classList.remove('active');
      currentSlide = (currentSlide - 1 + slideCount) % slideCount;
      slides[currentSlide].classList.add('active');
      console.log('Switched to slide (prev)', currentSlide);
    }

    if (slideCount > 0) {
      setInterval(nextSlide, 4000);
      console.log('Hero slider initialized with', slideCount, 'images');
    }

    // Touch / swipe support for mobile hero
    (function enableHeroSwipe() {
      const heroEl = document.getElementById('heroSlider');
      if (!heroEl) return;
      let startX = 0;
      let endX = 0;
      const THRESHOLD = 40; // px

      heroEl.addEventListener('touchstart', (e) => {
        startX = e.changedTouches[0].clientX;
      }, {passive: true});

      heroEl.addEventListener('touchmove', (e) => {
        endX = e.changedTouches[0].clientX;
      }, {passive: true});

      heroEl.addEventListener('touchend', () => {
        const dx = startX - endX;
        if (Math.abs(dx) < THRESHOLD) return;
        if (dx > 0) nextSlide(); else prevSlide();
      });
    })();

    // utility to resolve image string
    function resolveImage(img) {
      if (!img) return 'https://via.placeholder.com/600x400?text=No+Image';
      if (/^https?:\/\//i.test(img)) return img;
      return 'assets/images/' + img;
    }

    // Fetch data and render featured
    Promise.all([
      fetch('data/places.json?v=' + Date.now()).then(r => r.json()),
      fetch('data/images.json?v=' + Date.now()).then(r => r.json())
    ])
      .then(([placesData, imagesData]) => {
        // --- 1. Map Initialization ---
        // Uttara Kannada Bounds
        const southWest = L.latLng(13.7, 73.8);
        const northEast = L.latLng(15.5, 75.2);
        const bounds = L.latLngBounds(southWest, northEast);

        const map = L.map('uk-map', {
          center: [14.65, 74.55],
          zoom: 9,
          minZoom: 8,
          maxBounds: bounds,
          maxBoundsViscosity: 0.8,
          zoomControl: false // clearer view
        });

        // Custom pane for the mask to ensure it stays on top of tiles but below popups
        map.createPane('maskPane');
        map.getPane('maskPane').style.zIndex = 350;
        map.getPane('maskPane').style.pointerEvents = 'none'; // allow clicking through if needed, but we used holes

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 20,
          attribution: '¬© NammaUK'
        }).addTo(map);

        // Fetch precise boundary for masking
        fetch('data/uk_boundary.json')
          .then(res => res.json())
          .then(ukGeoJson => {
            const world = [
              [[90, -180], [90, 180], [-90, 180], [-90, -180]]
            ];
            // Extract hole coordinates from MultiPolygon
            // Leaflet polygon requires [lat, lng], GeoJSON is [lng, lat]
            // We need to invert valid polygons from the geometry
            const coords = ukGeoJson.geometry.coordinates;

            // Handle MultiPolygon: It's an array of Polygons, where each Polygon is an array of Rings (1st is outer)
            // We need to add the outer ring of each polygon as a "hole" to our mask
            coords.forEach(polygon => {
              const outerRing = polygon[0]; // First ring is outer boundary
              const hole = outerRing.map(p => [p[1], p[0]]); // Swap lng,lat to lat,lng
              world.push(hole);
            });

            L.polygon(world, {
              color: 'transparent',
              fillColor: 'white',
              fillOpacity: .5, // Solid white mask
              pane: 'maskPane'
            }).addTo(map);

            // Also add a border to the district to make it pop
            L.geoJSON(ukGeoJson, {
              style: { color: '#0ea5a4', weight: 2, fill: false }
            }).addTo(map);
          })
          .catch(e => console.error("Boundary load failed", e));

        L.control.zoom({ position: 'topright' }).addTo(map);

        // Build a map of "Place Name" -> "Image URL" from imagesData
        const imageMap = {};
        Object.keys(imagesData).forEach(taluk => {
          const places = imagesData[taluk] || [];
          places.forEach(p => {
            if (p.name && p.image) {
              imageMap[p.name.toLowerCase()] = p.image;
            }
          });
        });

        // collect first N places across taluks AND add markers
        const places = [];
        Object.keys(placesData).forEach(k => {
          const arr = placesData[k] || [];
          arr.forEach(p => {
            const fullP = Object.assign({ taluk: k }, p);
            places.push(fullP);

            // Add Marker
            if (p.lat && p.lng) {
              const m = L.marker([p.lat, p.lng]).addTo(map);
              // Resolve image for popup
              let popupImg = imageMap[p.name.toLowerCase()];
              if (!popupImg) popupImg = resolveImage(p.image);

              m.bindPopup(`
                    <div style="width:200px">
                        <img src="${popupImg}" style="width:100%;height:100px;object-fit:cover;border-radius:6px;margin-bottom:6px"/>
                        <h3 style="font-weight:bold;font-size:14px;margin:0">${p.name}</h3>
                        <p style="margin:4px 0;font-size:12px;color:#666">${p.type} ‚Ä¢ ${k}</p>
                        <a href="${k.toLowerCase()}.html" style="font-size:12px;color:#0ea5a4;text-decoration:none">View Details</a>
                    </div>
                 `);
            }
          });
        });
        // Prioritize Sirsi places for featured section
        const featuredIds = [
          'marikamba_temple', 'sahasralinga', 'murudeshwar_temple', 'gokarna_beach',
          'apsarakonda_falls', 'yana_caves', 'magod_falls', 'dandeli_wildlife_sanctuary', 'mirjan_fort',
          'devbagh_beach', 'kurumgad_island', 'ins_chapal_museum', 'netrani_island', 'om_beach', 'unchalli_falls', 'anshi_national_park'
        ];
        const featured = [];

        // Add specific priority places first
        featuredIds.forEach(id => {
          const p = places.find(place => place.id === id);
          if (p) featured.push(p);
        });

        // Fill remaining slots if any (though we defined 9)
        if (featured.length < 16) {
          places.forEach(p => {
            if (featured.length < 16 && !featured.includes(p)) {
              featured.push(p);
            }
          });
        }
        const grid = document.getElementById('featured-grid');

        // Store all places for filtering
        let allPlaces = places;
        let currentFilter = 'all';

        function renderPlaces(placesToRender) {
          grid.innerHTML = '';
          const lang = window.currentLanguage || localStorage.getItem('uk_lang') || 'en';

          placesToRender.forEach((p, index) => {
            const div = document.createElement('div');
            div.className = 'place-card card-hover';
            div.setAttribute('data-aos', 'fade-up');
            div.setAttribute('data-aos-delay', (index % 3) * 100); // Stagger animation

            // Dynamic Translation Lookup
            let pName = p.name;
            let pDesc = p.description || '';

            if (lang !== 'en') {
              if (lang === 'kn' && p.name_kn) pName = p.name_kn;
              else if (lang === 'hi' && p.name_hi) pName = p.name_hi;

              if (lang === 'kn' && p.description_kn) pDesc = p.description_kn;
              else if (lang === 'hi' && p.description_hi) pDesc = p.description_hi;
            }

            // Try to find image in map by name, fallback to p.image if it looks like a URL, else placeholder
            let imgSrc = imageMap[p.name.toLowerCase()];
            if (!imgSrc) {
              imgSrc = resolveImage(p.image);
            }

            // Translated buttons
            const btnMap = translations[lang] && translations[lang]['btn_view_map'] ? translations[lang]['btn_view_map'] : 'View on map';
            const btnSee = translations[lang] && translations[lang]['btn_see_more'] ? translations[lang]['btn_see_more'] : 'See more in';

            // Translate Taluk Name
            let talukName = p.taluk;
            const talukKey = 'taluk_' + p.taluk.toLowerCase();
            if (translations[lang] && translations[lang][talukKey]) {
              talukName = translations[lang][talukKey];
            }

            div.innerHTML = `
            <img src="${imgSrc}" alt="${pName}" />
            <div class="place-meta">
              <h3>${pName}</h3>
              <div class="meta-line">${talukName} ‚Ä¢ ${p.type || ''}</div>
              <p class="card-desc">${pDesc}</p>
              <div class="place-actions">
                <a class="btn" href="${(p.maps_url || p.mapLink || p.mapUrl || p.mapsUrl || 'https://maps.google.com')}" target="_blank">${btnMap}</a>
                <a class="btn" href="${p.taluk.toLowerCase()}.html">${btnSee} ${talukName}</a>
              </div>
            </div>
          `;
            grid.appendChild(div);
          });

          // Refresh AOS to detect new elements
          AOS.refresh();
        }

        

        // Filter button logic (single-select)
        const filterButtons = Array.from(document.querySelectorAll('.filter-btn'));

        function normalizeKey(s) {
          return (s || '')
            .toString()
            .toLowerCase()
            .replace(/[&(),\/]+/g, ' ')
            .replace(/\s+/g, ' ')
            .trim()
            .replace(/\s/g, '-');
        }

        function applyFilter(filter) {
          const MAX = 16;
          if (!filter || filter === 'all') {
            // prefer curated featured list when showing 'All'
            if (typeof featured !== 'undefined' && Array.isArray(featured) && featured.length > 0) {
              renderPlaces(featured.slice(0, MAX));
            } else {
              renderPlaces(allPlaces.slice(0, MAX));
            }
            return;
          }

          const filtered = allPlaces.filter(p => {
            const key = normalizeKey(p.type || '');
            return key.includes(filter);
          }).slice(0, MAX);

          renderPlaces(filtered);
        }

        filterButtons.forEach(btn => {
          btn.addEventListener('click', () => {
            const filter = btn.dataset.filter;

            // Make this button the single active one
            filterButtons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Apply normalized filter
            applyFilter(normalizeKey(filter));
          });
        });

        // initialize with 'all' selected and render
        const allBtn = filterButtons.find(b => b.dataset.filter === 'all');
        if (allBtn) {
          filterButtons.forEach(b => b.classList.remove('active'));
          allBtn.classList.add('active');
        }
        applyFilter('all');

        // Re-apply on language change (ensure active button text updates via translations.js)
        window.addEventListener('languageChanged', () => {
          const active = document.querySelector('.filter-btn.active');
          if (active) active.click();
        });

        // (filter initialization handled above for single-select)
      })
      .catch(e => console.error('Failed to load data', e));
  </script>
  <script>
    // Set current year in footer
    document.getElementById('currentYear').textContent = new Date().getFullYear();
  </script>
  <script>
    // Global visit counter using CountAPI with retry and periodic refresh.
    (function () {
      const el = document.getElementById('visit-count');
      if (!el) return;

      el.textContent = '...';
      let attempts = 0;

      async function hitCount() {
        try {
          const res = await fetch('/api/counter', { method: 'POST' });
          if (!res.ok) throw new Error('api failed');
          const j = await res.json();
          if (typeof j.value !== 'undefined') {
            el.textContent = j.value.toLocaleString();
            return;
          }
        } catch (err) {
          el.textContent = '‚Äî';
        }
      }

      async function refreshValue() {
        try {
          const r = await fetch('/api/counter');
          if (!r.ok) return;
          const j = await r.json();
          if (typeof j.value !== 'undefined') el.textContent = j.value.toLocaleString();
        } catch (e) {}
      }

      setTimeout(hitCount, 300);
      setInterval(refreshValue, 60000);
    })();
  </script>
  <script src="js/dev.js"></script>
 <script>
  window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
</script>
<script defer src="/_vercel/speed-insights/script.js"></script>


  
</body>

</html>










